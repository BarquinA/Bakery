<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bakery Inventory System</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, button {
            padding: 8px;
            width: 100%;
            box-sizing: border-box;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            margin-top: 5px;
        }
        button:hover {
            background-color: #45a049;
        }
        .error {
            color: red;
            margin: 10px 0;
        }
        .success {
            color: green;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>Welcome to the Bakery!</h1>
    <p>Here, we have lots of items to check out!</p>

    <div class="form-group">
        <label for="action">Choose an action:</label>
        <select id="action">
            <option value="">-- Select an action --</option>
            <option value="1">View all items</option>
            <option value="2">View specific item's price</option>
            <option value="3">Update an item</option>
            <option value="4">Remove an item</option>
            <option value="5">Add a new item</option>
            <option value="6">End program</option>
        </select>
    </div>

    <div id="itemForm" style="display: none;">
        <div class="form-group">
            <label for="itemName">Item name:</label>
            <input type="text" id="itemName">
        </div>

        <div id="updateFields" style="display: none;">
            <div class="form-group">
                <label for="newItemName">New item name:</label>
                <input type="text" id="newItemName">
            </div>
            <div class="form-group">
                <label for="newPrice">New price:</label>
                <input type="number" id="newPrice">
            </div>
            <div class="form-group">
                <label for="newStock">New stock:</label>
                <input type="number" id="newStock">
            </div>
        </div>

        <div id="addFields" style="display: none;">
            <div class="form-group">
                <label for="addPrice">Price:</label>
                <input type="number" id="addPrice">
            </div>
            <div class="form-group">
                <label for="addStock">Stock:</label>
                <input type="number" id="addStock">
            </div>
        </div>

        <button id="submitBtn">Submit</button>
    </div>

    <div id="output"></div>

    <script>
        // Initialize variables
        const overallShopList = [
            ["Bread", 50, 50],
            ["Apple Pie", 70, 30],
            ["Cupcakes", 100, 20]
        ];

        const actionSelect = document.getElementById('action');
        const itemForm = document.getElementById('itemForm');
        const itemNameInput = document.getElementById('itemName');
        const updateFields = document.getElementById('updateFields');
        const addFields = document.getElementById('addFields');
        const newItemNameInput = document.getElementById('newItemName');
        const newPriceInput = document.getElementById('newPrice');
        const newStockInput = document.getElementById('newStock');
        const addPriceInput = document.getElementById('addPrice');
        const addStockInput = document.getElementById('addStock');
        const submitBtn = document.getElementById('submitBtn');
        const outputDiv = document.getElementById('output');

        // Event listeners
        actionSelect.addEventListener('change', handleActionChange);
        submitBtn.addEventListener('click', handleSubmit);

        function handleActionChange() {
            const action = actionSelect.value;

            if (action === "") {
                itemForm.style.display = 'none';
                return;
            }

            itemForm.style.display = 'block';
            itemNameInput.value = '';
            newItemNameInput.value = '';
            newPriceInput.value = '';
            newStockInput.value = '';
            addPriceInput.value = '';
            addStockInput.value = '';

            updateFields.style.display = 'none';
            addFields.style.display = 'none';

            if (action === "2" || action === "3" || action === "4") {
                // Show item name input for view/update/remove
            } else if (action === "3") {
                updateFields.style.display = 'block';
            } else if (action === "5") {
                addFields.style.display = 'block';
            }
        }

        function handleSubmit() {
            const action = actionSelect.value;
            const itemName = itemNameInput.value.trim();
            let itemFound = false;
            let output = '';

            if (action === "1") {
                // Display all items
                output = '<table><tr><th>Name</th><th>Price</th><th>Stock</th></tr>';

                overallShopList.forEach(item => {
                    output += `<tr><td>${item[0]}</td><td>${item[1]}</td><td>${item[2]}</td></tr>`;
                });

                output += '</table>';
            }
            else if (action === "2" || action === "3" || action === "4") {
                // Find item
                for (let i = 0; i < overallShopList.length; i++) {
                    if (overallShopList[i][0] === itemName) {
                        itemFound = true;

                        if (action === "2") {
                            // View item
                            output = `<div class="success">Found, Item: ${overallShopList[i][0]}, Price: ${overallShopList[i][1]}, Stock: ${overallShopList[i][2]}</div>`;
                        }
                        else if (action === "3") {
                            // Update item
                            const newName = newItemNameInput.value.trim() || overallShopList[i][0];
                            const newPrice = parseInt(newPriceInput.value) || overallShopList[i][1];
                            const newStock = parseInt(newStockInput.value) || overallShopList[i][2];

                            overallShopList[i] = [newName, newPrice, newStock];
                            output = '<div class="success">Item updated.</div>';
                        }
                        else if (action === "4") {
                            // Remove item
                            overallShopList.splice(i, 1);
                            output = '<div class="success">Item removed.</div>';
                        }
                        break;
                    }
                }

                if (!itemFound) {
                    output = '<div class="error">Error: Item not found</div>';
                }
            }
            else if (action === "5") {
                // Add new item
                const newName = itemName;
                const newPrice = parseInt(addPriceInput.value);
                const newStock = parseInt(addStockInput.value);

                if (newName && !isNaN(newPrice) && !isNaN(newStock)) {
                    overallShopList.push([newName, newPrice, newStock]);
                    output = '<div class="success">Item added successfully.</div>';
                } else {
                    output = '<div class="error">Error: Please fill all fields with valid values.</div>';
                }
            }
            else if (action === "6") {
                // End program
                output = '<div class="success">Program ended. Thank you for using the Bakery Inventory System!</div>';
                itemForm.style.display = 'none';
            }

            outputDiv.innerHTML = output;
        }
    </script>
</body>
</html>